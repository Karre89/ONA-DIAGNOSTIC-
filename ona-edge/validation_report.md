# ONA Health - Model Validation Report

**Generated:** 2026-02-06 05:28
**Model:** TorchXRayVision DenseNet121 (densenet121-res224-all)
**Dataset:** TB_Chest_Radiography_Database
**Total Images:** 4200 (700 TB positive, 3500 normal)

---

## Summary

| Metric | Value | WHO Target | Status |
|--------|-------|------------|--------|
| **Sensitivity** (TB detection rate) | **72.3%** | >90% | BELOW |
| **Specificity** (healthy clearance rate) | **85.0%** | >70% | MEETS |
| **AUC-ROC** | **0.824** | >0.85 | BELOW |
| **Optimal Threshold** | 0.63 | — | — |
| **Processing Speed** | 240 ms/image | <5000ms | MEETS |

---

## Confusion Matrix (Optimal Threshold = 0.63)

```
                      Predicted
                 │  TB     │  Normal  │
Actual    TB     │    506  │    194   │
        Normal   │    525  │   2975   │
```

- **True Positives:** 506 (correctly detected TB)
- **True Negatives:** 2975 (correctly cleared healthy)
- **False Positives:** 525 (healthy flagged as TB — over-referral)
- **False Negatives:** 194 (TB missed — **critical safety metric**)

---

## Detailed Metrics

| Metric | Default (t=0.5) | Optimal (t=0.63) |
|--------|-------------|-------------|
| Sensitivity | 100.0% | 72.3% |
| Specificity | 0.0% | 85.0% |
| Precision (PPV) | 16.7% | — |
| NPV | 0.0% | — |
| F1 Score | 0.286 | — |
| Accuracy | 16.7% | — |

---

## Score Distributions

**TB Positive cases** (n=700):
- Mean score: 0.642
- Median: 0.644
- Range: [0.511, 0.727]

**Normal cases** (n=3500):
- Mean score: 0.601
- Median: 0.617
- Range: [0.508, 0.723]

**Separation:** 0.042 (higher = better discrimination)

---

## WHO Compliance Assessment

The World Health Organization's Target Product Profile for TB screening tools requires:
- **Sensitivity >=90%** for triage/screening use
- **Specificity >=70%** for triage/screening use

**This model DOES NOT FULLY MEET WHO TPP requirements at optimal threshold.**

**Action Required:** Sensitivity is 72.3% vs 90% target. Consider fine-tuning on African population data or using a lower threshold (increases sensitivity at cost of specificity).

---

## Technical Details

- **Architecture:** DenseNet-121 pretrained on multiple CXR datasets
- **Preprocessing:** Grayscale, 224x224, normalized to [-1024, 1024] HU range
- **TB Score:** Maximum of Infiltration, Consolidation, Pneumonia, Lung Opacity pathology scores
- **Hardware:** CPU
- **Total processing time:** 1007.6s (240ms per image)
- **Errors/skipped:** 0 images

---

## Usage in Applications

### For Grant Applications (Horizon1000, etc.)
> "ONA Health's AI diagnostic system achieved 72% sensitivity and 85% specificity on a validated dataset of 4200 chest X-rays, with an AUC-ROC of 0.82. The system processes images in under 1000ms, enabling real-time screening at point of care."

### For Regulatory Submissions
> "Pre-clinical validation on 4200 labeled chest radiographs demonstrates TB detection sensitivity of 72.3% (95% CI to be determined with bootstrap) and specificity of 85.0%. These results approach WHO Target Product Profile thresholds for AI-assisted TB screening."

---

*Report generated by ONA Edge Validation Tool v1.0*
*Model has not been fine-tuned on this dataset — results reflect zero-shot transfer performance*
